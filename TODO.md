# AIBackgroundWorker プロジェクト進捗状況

最終更新: 2025-01-XX

## 📋 プロジェクト概要

AIシステムを動かすための背景として動作する常駐システム。ユーザーの活動データと外部情報を自動的に収集・蓄積し、AIシステムが活用できる形でデータを提供します。

---

## ✅ 完了済みタスク

### プロジェクト構造の整理
- [x] 不要ファイル（Zone.Identifier、uv.lock、.pidファイル）の削除
- [x] スクリプトの統合（browser、info_collector、lifelog → scripts/）
- [x] パッケージ管理をuvに統一
- [x] プロジェクト構造の整理とドキュメント化

### ライフログシステム（lifelog-system）
- [x] 基本的なプロジェクト構造の確立
- [x] SQLiteデータベース構造の実装
- [x] デーモン制御スクリプト（scripts/daemon.sh）
- [x] CLIビューアー（日別サマリー、タイムライン、時間帯別活動）
- [x] Windows前面ウィンドウロガー統合
- [x] プライバシー保護機能（ハッシュ化）

---

## 🚧 進行中タスク

### ライフログシステムの機能拡張
- [ ] ベクターDBへの統合（実装予定）
- [ ] データ収集の精度向上
- [ ] エラーハンドリングの強化

---

## 📝 未実装・計画中タスク

### 内向きの機能（Internal Data Collection）

#### ユーザー活動のデータ収集
- [x] WSL環境での活動記録の完全実装 ✅
  - [x] プロセス情報の収集
  - [x] アクティブウィンドウ情報の取得
  - [x] アプリケーション使用状況の記録
- [x] Windows環境での活動記録の完全実装 ✅
  - [x] フォアグラウンドウィンドウの記録
  - [x] アクティビティタイムラインの生成
- [x] WSLとWindowsデータの統合機能 ✅
  - [x] データマージ機能（merge_windows_logs.py）
  - [x] 時系列データの統合
- [ ] タスクスケジューラでの自動実行設定
  - [x] Windows前面ウィンドウロガーの自動起動設定方法 ✅
  - [x] WSL側デーモンの自動起動設定方法 ✅
  - [x] データ統合処理の定期実行設定方法 ✅

#### ブラウザ情報の自動取得
- [x] Braveブラウザ履歴の収集機能（スクリプト実装済み） ✅
  - [x] インポートスクリプト（import_brave_history.sh）
  - [x] 定期ポーリングスクリプト（poll_brave_history.sh）
  - [x] cron登録スクリプト（install_poll_cron.sh）
  - [ ] `src.browser_history.BraveHistoryImporter` の実装確認・完成 🚧
  - [ ] 履歴データのベクターDBへの格納
- [ ] 他のブラウザ対応（Chrome、Firefox等）
- [ ] ブラウザ履歴の可視化機能

#### ベクターDBへの格納
- [ ] ベクターDBの選定とセットアップ
  - [ ] ChromaDB / Qdrant / Pinecone等の検討
- [ ] データのベクター化処理
  - [ ] テキスト埋め込みの生成
  - [ ] メタデータの付与
- [ ] ベクターDBへの保存機能
- [ ] セマンティック検索機能の実装

### 外向きの機能（External Data Collection）

#### ニュース収集
- [ ] ニュース収集機能の実装
  - [ ] `src.info_collector.NewsCollector` の実装
  - [ ] 複数ニュースサイトからの収集
  - [ ] ニュースデータのベクターDBへの格納
- [ ] ニュース収集の定期実行機能
- [ ] ニュースの重複排除機能

#### RSSフィード収集
- [ ] RSS収集機能の実装
  - [ ] `src.info_collector.RSSCollector` の実装
  - [ ] 複数RSSフィードからの収集
  - [ ] RSSデータのベクターDBへの格納
- [ ] RSS収集の定期実行機能

#### Web検索機能
- [ ] Web検索機能の実装
  - [ ] `src.info_collector.SearchCollector` の実装
  - [ ] DuckDuckGo等の検索API統合
  - [ ] 検索結果のベクターDBへの格納
- [ ] 検索結果の要約生成機能

#### 情報管理
- [ ] `src.info_collector.InfoCollectorRepository` の実装
- [ ] `src.info_collector.InfoCollectorConfig` の実装
- [ ] 情報の重複排除と更新管理

### データ可視化機能

#### CLIツールの拡張
- [ ] データ閲覧機能の拡張
  - [ ] ベクターDBの内容表示
  - [ ] 検索結果の表示
  - [ ] データ統計の表示
- [ ] エクスポート機能（CSV、JSON等）

#### Web UI（将来の拡張）
- [ ] Web UIの設計
- [ ] フロントエンドフレームワークの選定
- [ ] バックエンドAPIの実装
- [ ] データ可視化ダッシュボード

### システム統合

#### MCP Server実装
- [ ] MCP Serverの設計
- [ ] Claude連携機能の実装
- [ ] データ取得APIの実装

#### Windows API実装
- [ ] Win32 APIの統合
- [ ] Windows固有機能の実装

### その他の機能

#### ローカルLLM統合
- [ ] ローカルLLMの選定とセットアップ
- [ ] 日次サマリー生成機能
- [ ] データ分析機能

#### パフォーマンス最適化
- [ ] データ収集の効率化
- [ ] データベースクエリの最適化
- [ ] メモリ使用量の最適化

#### テストと品質保証
- [ ] ユニットテストの拡充
- [ ] 統合テストの実装
- [ ] エンドツーエンドテストの実装
- [ ] コードカバレッジの向上

#### ドキュメント
- [ ] APIドキュメントの作成
- [ ] 開発者ガイドの作成
- [ ] 運用マニュアルの作成

---

## 🎯 優先度別タスク

### 高優先度（すぐに実装すべき）
1. **ベクターDBの選定とセットアップ**
   - データ格納の基盤となるため最優先
2. **ブラウザ履歴収集機能の実装**
   - `src.browser_history.BraveHistoryImporter` の実装
3. **外部情報収集機能の実装**
   - `src.info_collector` モジュール群の実装
4. **データ統合機能の強化**
   - WSLとWindowsデータの統合

### 中優先度（次に実装すべき）
1. **MCP Server実装**
   - Claude連携によるAIシステムとの統合
2. **データ可視化機能の拡張**
   - ベクターDBの内容表示
3. **定期実行機能の実装**
   - ニュース、RSS、ブラウザ履歴の自動収集

### 低優先度（将来的に実装）
1. **Web UIの実装**
2. **ローカルLLM統合**
3. **他のブラウザ対応**

---

## 📊 進捗率

- **プロジェクト構造**: 100% ✅
- **ライフログシステム（基本機能）**: 80% 🚧
- **ブラウザ情報収集**: 0% 📝
- **外部情報収集**: 0% 📝
- **ベクターDB統合**: 0% 📝
- **データ可視化**: 30% 🚧
- **MCP Server**: 0% 📝

**全体進捗**: 約 30%

---

## 🔄 定期的な更新

このTODOリストは定期的に更新してください。タスクの完了時、新しい要件の追加時、優先度の変更時に更新します。

---

## 📝 メモ

- 現在、プロジェクト構造の整理が完了し、基本的なライフログシステムの骨格は実装済み
- スクリプトは統合済みだが、実際のPythonモジュール（`src.browser_history`、`src.info_collector`等）の実装が必要
- ベクターDBの選定とセットアップが次の重要なマイルストーン

